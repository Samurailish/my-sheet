/* =========================
   Base
========================= */
:root{
  --bg: #f5f7fb;
  --panel: #ffffff;
  --text: #0f172a;
  --muted: #64748b;
  --line: #e6eaf2;

  --header: #777f8f;

  --fav: #3aa0ff;
  --like: #43c07a;
  --int: #e6c24f;
  --no:  #e06a6a;
  --empty: #cbd5e1;
}

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
  color: var(--text);
  background: var(--bg);
}

a{ color: inherit; }

.wrap{
  max-width: 1200px;
  margin: 24px auto;
  padding: 0 16px 32px;
}

/* If your index.html doesn't have .wrap yet, this still looks fine */
.top{
  max-width: 1200px;
  margin: 24px auto 0;
  padding: 0 16px;
}

h1{
  margin: 0 0 6px;
  font-size: 44px;
  letter-spacing: -0.02em;
}
.sub{
  margin: 0 0 14px;
  color: var(--muted);
  font-size: 14px;
}

/* =========================
   Legend + actions
========================= */
.legend{
  display:flex;
  align-items:center;
  gap: 14px;
  flex-wrap: wrap;
  margin: 10px 0 14px;
  color: var(--muted);
  font-size: 13px;
}
.legend .dot{
  width: 11px;
  height: 11px;
  border-radius: 50%;
  display:inline-block;
  margin-right: 6px;
  border: 2px solid transparent;
  vertical-align: -2px;
}
.legend .fav{ background: var(--fav); border-color: var(--fav); }
.legend .like{ background: var(--like); border-color: var(--like); }
.legend .int{ background: var(--int); border-color: var(--int); }
.legend .no{ background: var(--no); border-color: var(--no); }
.legend .empty{ background: #fff; border-color: var(--empty); }

.actions{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  margin: 10px 0 12px;
}
.actions button{
  appearance:none;
  border: 0;
  border-radius: 10px;
  padding: 10px 14px;
  font-weight: 700;
  cursor: pointer;
  background: #0b1220;
  color: #fff;
}
.actions button:hover{ filter: brightness(1.05); }
.actions button:active{ transform: translateY(1px); }
.actions button.secondary{
  background: #111827;
  opacity: 0.92;
}
.actions button#getLink{
  background: #ef4444;
}

#shareUrl{
  width: min(820px, 100%);
  display:block;
  margin: 10px 0 6px;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: #fff;
  font-size: 14px;
}
.status{
  min-height: 20px;
  color: var(--muted);
  font-size: 13px;
  margin-bottom: 14px;
}

/* =========================
   Sheet layout (this matches your app.js)
========================= */
.sheet{
  max-width: 1200px;
  margin: 0 auto 32px;
  padding: 0 16px 32px;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
  gap: 16px;
}

/* Section card */
.section{
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 1px 0 rgba(15,23,42,0.03);
}

.sectionHeader{
  background: var(--header);
  color: #fff;
  padding: 12px 14px 10px;
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 10px;
}
.sectionTitleWrap{
  min-width: 0;
}
.sectionTitle{
  font-size: 18px;
  font-weight: 900;
  letter-spacing: 0.02em;
}
.sectionDesc{
  margin-top: 2px;
  font-size: 12px;
  opacity: 0.95;
}

.sectionHelp,
.rowHelp{
  appearance:none;
  border: 1px solid rgba(255,255,255,0.6);
  background: rgba(255,255,255,0.18);
  color: #fff;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  font-weight: 900;
  cursor: pointer;
  flex: 0 0 auto;
}
.sectionHelp:hover{ background: rgba(255,255,255,0.24); }

.groupTitle{
  padding: 10px 14px;
  border-top: 1px solid rgba(255,255,255,0.15);
  background: #f8fafc;
  color: #0b1220;
  font-weight: 900;
  letter-spacing: 0.08em;
  font-size: 11px;
  text-transform: uppercase;
}

.rows{
  padding: 2px 0;
}

.row{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 14px;
  border-top: 1px solid var(--line);
}
.row:first-child{ border-top: 0; }

.rowLabel{
  display:flex;
  align-items:center;
  gap: 10px;
  min-width: 0;
  flex: 1 1 auto;
}
.rowLabelText{
  font-weight: 700;
  font-size: 13px;
  color: #0b1220;
  min-width: 0;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.rowHelp{
  width: 22px;
  height: 22px;
  border: 1px solid var(--line);
  background: #fff;
  color: #0b1220;
}
.rowHelp:hover{ background:#f1f5f9; }

.roleCells{
  display:flex;
  align-items:center;
  gap: 10px;
  flex: 0 0 auto;
}
.roleCell{
  display:flex;
  align-items:center;
  gap: 8px;
}
.roleTitle{
  font-size: 11px;
  font-weight: 800;
  color: var(--muted);
}

.dots{
  display:flex;
  align-items:center;
  gap: 8px;
}

/* =========================
   Choice dots (key part)
   - Unselected = desaturated, dim
   - Selected = full color + ring + ✓
   - Always has colored border (prints better)
========================= */
.choiceDot{
  width: 28px;
  height: 18px;
  border-radius: 999px;
  border: 2px solid var(--empty);
  background: #fff;
  cursor:pointer;
  position: relative;

  /* unselected look */
  opacity: 0.35;
  filter: saturate(0) brightness(1.1);
}

.choiceDot:hover{
  opacity: 0.55;
  filter: saturate(0) brightness(1.05);
}

.choiceDot.active{
  opacity: 1;
  filter: none;
  box-shadow: 0 0 0 3px rgba(15,23,42,0.08);
}

/* Checkmark so it still makes sense in grayscale printing */
.choiceDot.active::after{
  content: "✓";
  position:absolute;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 12px;
  font-weight: 900;
  color: rgba(255,255,255,0.95);
  text-shadow: 0 1px 1px rgba(0,0,0,0.25);
}

/* State colors (both border + fill when active) */
.choiceDot.fav{ border-color: var(--fav); }
.choiceDot.like{ border-color: var(--like); }
.choiceDot.int{ border-color: var(--int); }
.choiceDot.no{ border-color: var(--no); }

.choiceDot.fav.active{ background: var(--fav); }
.choiceDot.like.active{ background: var(--like); }
.choiceDot.int.active{ background: var(--int); }
.choiceDot.no.active{ background: var(--no); }

/* Yellow needs darker check for contrast */
.choiceDot.int.active::after{
  color: rgba(15,23,42,0.95);
  text-shadow: none;
}

/* Unset/empty state (no checkmark) */
.choiceDot.empty{
  border-color: var(--empty);
  background: #fff;
  opacity: 1;
  filter: none;
}
.choiceDot.empty::after{ content:""; }

/* =========================
   Help bubble (if your JS uses .bubble)
========================= */
.bubble{
  position: absolute;
  z-index: 50;
  max-width: 360px;
  background: #0b1220;
  color: #fff;
  border-radius: 12px;
  padding: 10px 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  font-size: 13px;
  line-height: 1.35;
}
.bubble .bubbleActions{
  margin-top: 8px;
  display:flex;
  gap: 8px;
}
.bubble a,
.bubble button{
  font: inherit;
  font-weight: 800;
  cursor: pointer;
}
.bubble button{
  border: 0;
  border-radius: 10px;
  padding: 8px 10px;
  background: rgba(255,255,255,0.12);
  color:#fff;
}
.bubble button:hover{ background: rgba(255,255,255,0.18); }
.bubble a{
  color: #fff;
  text-decoration: underline;
}

/* =========================
   Print / PDF compression + color
========================= */
@media print{
  /* Try hard to preserve colors */
  *{
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  body{
    background: #fff !important;
  }

  /* Hide interactive controls, keep title + legend */
  .actions,
  #shareUrl,
  .status{
    display:none !important;
  }

  /* Tighter typography */
  h1{ font-size: 26px; margin-bottom: 2px; }
  .sub{ font-size: 11px; margin-bottom: 8px; }
  .legend{ font-size: 11px; margin: 6px 0 10px; }

  /* Pack sections into 2 print columns */
  .sheet{
    display:block !important;
    column-count: 2;
    column-gap: 10mm;
    padding: 0 !important;
    max-width: none !important;
  }

  /* Prevent awkward splitting */
  .section{
    break-inside: avoid;
    page-break-inside: avoid;
    margin: 0 0 10mm 0;
    border: 1px solid #d9dee8;
    box-shadow: none;
  }

  .sectionHeader{
    padding: 8px 10px;
  }
  .sectionTitle{ font-size: 14px; }
  .sectionDesc{ font-size: 10px; }

  .groupTitle{
    padding: 7px 10px;
    font-size: 10px;
  }

  .row{
    padding: 6px 10px;
  }
  .rowLabelText{ font-size: 11px; }
  .roleTitle{ font-size: 10px; }

  /* Smaller dots for fewer pages */
  .choiceDot{
    width: 22px;
    height: 14px;
    border-width: 2px;
  }
  .choiceDot.active::after{
    font-size: 10px;
  }

  /* Reduce help clutter in print */
  .rowHelp,
  .sectionHelp{
    display:none !important;
  }

  /* Page setup hint (browser may ignore size) */
  @page{
    margin: 10mm;
  }
}
